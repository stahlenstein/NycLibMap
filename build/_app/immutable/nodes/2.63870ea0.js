import{s as _,n as h,o as N,f as k,b as $}from"../chunks/scheduler.b108d059.js";import{S as v,i as y,g as u,h as d,j as f,f as m,k as g,a as b,x as C,r as P,u as I,v as z,d as B,t as x,w as D}from"../chunks/index.a864a161.js";import{_ as U}from"../chunks/preload-helper.a4192956.js";function O(s){let t,o;return{c(){t=u("main"),o=u("div"),this.h()},l(r){t=d(r,"MAIN",{class:!0});var e=f(t);o=d(e,"DIV",{class:!0}),f(o).forEach(m),e.forEach(m),this.h()},h(){g(o,"class","svelte-kmo4ry"),g(t,"class","svelte-kmo4ry")},m(r,e){b(r,t,e),C(t,o),s[1](o)},p:h,i:h,o:h,d(r){r&&m(t),s[1](null)}}}var G="https://raw.githubusercontent.com/stahlenstein/NycLibMap/master/static/Data/Libraries.geojson",V="https://raw.githubusercontent.com/stahlenstein/NycLibMap/master/static/icons/SASB.png",j="https://raw.githubusercontent.com/stahlenstein/NycLibMap/master/static/icons/LPA.png",R="https://raw.githubusercontent.com/stahlenstein/NycLibMap/master/static/icons/Schomburg.png",F="https://raw.githubusercontent.com/stahlenstein/NycLibMap/master/static/icons/Branch_line.png";function J(s,t,o){let r,e,n;N(async()=>{{n=await U(()=>import("../chunks/leaflet-src.e35a4304.js").then(c=>c.l),[],import.meta.url),e=n.map(r,{zoomControl:!0,maxZoom:18,minZoom:11}).setView([40.753322,-73.982544],11);var l=n.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"});n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l.addTo(e),e.createPane("pane_Limits"),fetch(G).then(c=>c.json()).then(c=>{function L(a,p){if(a.properties.name==="Stephen A. Schwarzman Building"){var T=n.icon({iconSize:[25,23],iconAnchor:[20,20],iconUrl:V}),i=new n.marker(p,{icon:T}).bindTooltip(a.properties.name,{offset:[19,0]}).openTooltip();return i}if(a.properties.name==="Library for the Performing Arts, Dorothy and Lewis B. Cullman Center"){var A=n.icon({iconSize:[25,23],iconAnchor:[20,20],iconUrl:j}),i=new n.marker(p,{icon:A}).bindTooltip(a.properties.name,{offset:[19,0]}).openTooltip();return i}if(a.properties.name==="Schomburg Center for Research in Black Culture"){var M=n.icon({iconSize:[25,23],iconAnchor:[20,20],iconUrl:R}),i=new n.marker(p,{icon:M}).bindTooltip(a.properties.name,{offset:[19,0]}).openTooltip();return i}else{var E=n.icon({iconSize:[20,20],iconAnchor:[20,20],iconUrl:F}),i=new n.marker(p,{icon:E}).bindTooltip(a.properties.name,{offset:[19,0]}).openTooltip();return i}}let w={pointToLayer:L,onEachFeature(a,p){p.bindPopup("<h1>"+a.properties.name+"</h1><p>system: "+a.properties.system+"</p><p>status: "+a.properties.status+'</p><p>url: <a href="'+a.properties.url+'">'+a.properties.url+"</a></p>")}};n.geoJSON(c,w).addTo(e),console.log(c)})}}),k(async()=>{e&&(console.log("Unloading Leaflet map."),e.remove())});function S(l){$[l?"unshift":"push"](()=>{r=l,o(0,r)})}return[r,S]}class K extends v{constructor(t){super(),y(this,t,J,O,_,{})}}function Z(s){let t,o,r;return o=new K({}),{c(){t=u("main"),P(o.$$.fragment)},l(e){t=d(e,"MAIN",{});var n=f(t);I(o.$$.fragment,n),n.forEach(m)},m(e,n){b(e,t,n),z(o,t,null),r=!0},p:h,i(e){r||(B(o.$$.fragment,e),r=!0)},o(e){x(o.$$.fragment,e),r=!1},d(e){e&&m(t),D(o)}}}class W extends v{constructor(t){super(),y(this,t,null,Z,_,{})}}export{W as component};
